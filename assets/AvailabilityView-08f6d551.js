import{d as W,k as Ee,l as b,m as He,b as h,c as f,n as A,e as l,h as D,f as j,F as E,q as H,v as L,x as S,t as P,y as ce,z as De,A as Ne,B as We,C as xe,D as Ue,a as Ve,i as ge,w as ze,E as me,H as Re,I as qe,J as pe,K as Q}from"./index-34a07d4b.js";var je=Object.defineProperty,Ge=(e,r,t)=>r in e?je(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,q=(e,r,t)=>(Ge(e,typeof r!="symbol"?r+"":r,t),t);const x=()=>G(new Date),Je=(e,r,t)=>{switch(r){case"year":return new Date(e.getFullYear(),0);case"month":return new Date(e.getFullYear(),e.getMonth());case"week":return Z(e,t);default:return e}},Ke=e=>[...Array(7)].map((r,t)=>T(e,t)),T=(e,r)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+r,e.getHours(),e.getMinutes(),e.getSeconds()),Z=(e,r)=>T(e,(r-e.getDay()-7)%-7),Qe=(e,r)=>T(Z(e,r),7),N=e=>new Date(e.getFullYear(),e.getMonth()),Xe=e=>Math.ceil(e.getDate()/7),Ze=(e,r,t)=>new Date(e.getFullYear()+(r=="year"?t:0),e.getMonth()+(r=="month"?t:0),e.getDate()+(r=="week"?t*7:0)),ee=e=>("0"+String(e.getMonth()+1)).slice(-2),te=e=>("0"+String(e.getDate())).slice(-2),he=e=>e.getFullYear()+"-"+ee(e),et=e=>he(e)+"-"+te(e),tt=e=>ee(e)+"-"+te(e),at=(e,r,t)=>{if(e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0)return"";if(!J()){var s=new Date().getTimezoneOffset()*6e4;return new Date(e.getTime()-s).toISOString().slice(11,16)}return e.toLocaleTimeString(r,t)},rt=(e,r,t,s)=>{const c=e.getFullYear()===r.getFullYear(),y=be(e,r),p=t!=="year"&&t!=="month";let m=[];return m.push(s[e.getMonth()]),p&&(m.push(" "),m.push(e.getDate())),c||(m.push(p?", ":" "),m.push(e.getFullYear())),!y||!c?(m.push(" – "),y||m.push(s[r.getMonth()]),p&&m.push(" ")):p&&m.push(" – "),p?(m.push(r.getDate()),m.push(", ")):m.push(" "),m.push(r.getFullYear()),m.join("")},ve=(e,r)=>{const t=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()),s=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return(t-s)/864e5},it=(e,r)=>!!e&&!!r&&ve(e,r)===0,ot=(e,r)=>!!e&&!!r&&e.getTime()===r.getTime(),be=(e,r)=>!!e&&!!r&&e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth(),nt=e=>N(e)<N(x()),st=e=>N(e)>N(x()),lt=e=>G(e)>x(),dt=e=>G(e)<x(),ut=e=>e.getMonth()!==T(e,7).getMonth(),ct=e=>e.getMonth()!==T(e,1).getMonth(),fe=e=>{let r=[...Array(7)].map(t=>0);return e.split(/\D/,7).forEach((t,s)=>r[s]=Number(t)),r[1]--,new Date(r[0],r[1],r[2],r[3],r[4],r[5],r[6])},X=e=>typeof e=="string"?fe(e):new Date(e),G=e=>{const r=new Date(e);return r.setHours(0,0,0,0),r},gt=e=>e.substring(0,2),J=()=>typeof Intl<"u",mt=(e,r)=>{if(!J())return[...Array(12)].map(s=>"");const t=new Intl.DateTimeFormat(e,{month:r});return[...Array(12)].map((s,c)=>t.format(new Date(2017,c,1)))},pt=(e,r,t)=>{if(!J())return[...Array(7)].map(c=>"");const s=new Intl.DateTimeFormat(e,{weekday:r});return[...Array(7)].map((c,y)=>s.format(new Date(2017,0,(y+1+t)%7)))},Dt=()=>typeof navigator>"u"?"unk":(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language).toLowerCase(),ht=(e,r)=>{const t=e.classes?[...e.classes]:[];return r&&t.push("isHovered"),{originalItem:e,startDate:X(e.startDate),endDate:X(e.endDate||e.startDate),classes:t,title:e.title||"Untitled",id:e.id,url:e.url,tooltip:e.tooltip??e.title}},i={addDays:T,beginningOfMonth:N,beginningOfPeriod:Je,beginningOfWeek:Z,dateOnly:G,dayDiff:ve,daysOfWeek:Ke,endOfWeek:Qe,formattedPeriod:rt,formattedTime:at,fromIsoStringToLocalDate:fe,getDefaultBrowserLocale:Dt,getFormattedMonthNames:mt,getFormattedWeekdayNames:pt,incrementPeriod:Ze,instanceOfMonth:Xe,isFutureMonth:st,isInFuture:lt,isInPast:dt,isLastDayOfMonth:ct,isLastInstanceOfMonth:ut,isoMonthDay:tt,isoYearMonth:he,isoYearMonthDay:et,isPastMonth:nt,isSameDate:it,isSameDateTime:ot,isSameMonth:be,languageCode:gt,normalizeItem:ht,paddedDay:te,paddedMonth:ee,supportsIntl:J,today:x,toLocalDate:X};class vt{constructor(){q(this,"currentDragItem"),q(this,"dateSelectionOrigin"),q(this,"currentHoveredItemId",""),q(this,"CalendarMath",i)}}const bt={class:"cv-header-days"},ft={key:0,class:"cv-weeknumber"},yt=["aria-multiselectable"],wt={key:0,class:"cv-weeknumber"},Pt={class:"cv-weekdays"},kt=["draggable","aria-grabbed","aria-label","aria-selected","aria-dropeffect","onClick","onDragstart","onDrop","onDragover","onDragenter","onDragleave"],St={class:"cv-day-number"},Mt=["draggable","aria-grabbed","title","onDragstart","onMouseenter","onMouseleave","onClick","innerHTML"],It=["draggable","aria-grabbed","title","onDragstart","onMouseenter","onMouseleave","onClick"],ye=W({__name:"CalendarView",props:{showDate:{default:void 0},displayPeriodUom:{default:"month"},displayPeriodCount:{default:1},displayWeekNumbers:{type:Boolean,default:!1},locale:{default:void 0},monthNameFormat:{default:"long"},weekdayNameFormat:{default:"short"},showTimes:{type:Boolean,default:!1},timeFormatOptions:{default:()=>({})},disablePast:{type:Boolean,default:!1},disableFuture:{type:Boolean,default:!1},enableDateSelection:{type:Boolean,default:!1},selectionStart:{default:void 0},selectionEnd:{default:void 0},enableDragDrop:{type:Boolean,default:!1},startingDayOfWeek:{default:0},items:{default:()=>[]},dateClasses:{default:()=>({})},itemTop:{default:"1.4em"},itemContentHeight:{default:"1.4em"},itemBorderHeight:{default:"2px"},periodChangedCallback:{type:Function,default:void 0},currentPeriodLabel:{default:""},currentPeriodLabelIcons:{default:"⇤-⇥"},doEmitItemMouseEvents:{type:Boolean,default:!1},enableHtmlTitles:{type:Boolean,default:!0}},emits:["period-changed","click-date","click-item","item-mouseenter","item-mouseleave","drag-start","drag-over-date","drag-enter-date","drag-leave-date","drop-on-date","date-selection","date-selection-start","date-selection-finish"],setup(e,{emit:r}){const t=e,s=Ee(new vt),c=b(()=>t.locale||i.getDefaultBrowserLocale()),y=b(()=>t.showDate?i.dateOnly(t.showDate):i.today()),p=b(()=>i.beginningOfPeriod(y.value,t.displayPeriodUom,t.startingDayOfWeek)),m=b(()=>i.addDays(i.incrementPeriod(p.value,t.displayPeriodUom,t.displayPeriodCount),-1)),Y=b(()=>{const a=i.beginningOfWeek(i.beginningOfPeriod(p.value,"year",0),t.startingDayOfWeek),n=i.beginningOfWeek(p.value,t.startingDayOfWeek);return 1+Math.floor(i.dayDiff(a,n)/7)}),g=b(()=>i.beginningOfWeek(p.value,t.startingDayOfWeek)),M=b(()=>i.endOfWeek(m.value,t.startingDayOfWeek)),k=b(()=>{const a=Math.floor((i.dayDiff(g.value,M.value)+1)/7);return[...Array(a)].map((n,u)=>i.addDays(g.value,u*7))}),I=b(()=>i.getFormattedMonthNames(c.value,t.monthNameFormat)),U=b(()=>i.getFormattedWeekdayNames(c.value,t.weekdayNameFormat,t.startingDayOfWeek)),C=b(()=>t.items?t.items.map(a=>i.normalizeItem(a,a.id===s.currentHoveredItemId)):[]),O=b(()=>i.beginningOfPeriod(i.today(),t.displayPeriodUom,t.startingDayOfWeek)),V=b(()=>i.addDays(i.incrementPeriod(O.value,t.displayPeriodUom,t.displayPeriodCount),-1)),ke=b(()=>i.formattedPeriod(p.value,m.value,t.displayPeriodUom,I.value)),Se=b(()=>{const a=O.value,n=p.value;return t.currentPeriodLabel?t.currentPeriodLabel==="icons"?t.currentPeriodLabelIcons[Math.sign(a.getTime()-n.getTime())+1]:t.currentPeriodLabel:i.formattedPeriod(a,V.value,t.displayPeriodUom,I.value)}),Me=b(()=>({previousYear:$(-12),previousPeriod:$(-1),nextPeriod:$(1),previousFullPeriod:$(-t.displayPeriodCount),nextFullPeriod:$(t.displayPeriodCount),nextYear:$(12),currentPeriod:O.value,currentPeriodLabel:Se.value,periodStart:p.value,periodEnd:m.value,displayLocale:c.value,displayFirstDate:g.value,displayLastDate:M.value,monthNames:I.value,fixedItems:C.value,periodLabel:ke.value})),Ie=b(()=>({periodStart:p,periodEnd:m,displayFirstDate:g,displayLastDate:M}));He(()=>Ie,a=>{t.periodChangedCallback&&(r("period-changed"),t.periodChangedCallback(a,"watch"))},{immediate:!0,deep:!0});const Ce=(a,n)=>{t.disablePast&&i.isInPast(a)||t.disableFuture&&i.isInFuture(a)||r("click-date",a,ne(a,a),n)},ae=(a,n)=>r("click-item",a,n),_=a=>"dow"+(a+t.startingDayOfWeek)%7,$=a=>{const n=i.incrementPeriod(p.value,t.displayPeriodUom,a),u=i.incrementPeriod(n,t.displayPeriodUom,t.displayPeriodCount);return t.disablePast&&u<=i.today()||t.disableFuture&&n>i.today()?null:n},re=(a,n)=>{s.currentHoveredItemId=a.id,t.doEmitItemMouseEvents&&r("item-mouseenter",a,n)},ie=(a,n)=>{s.currentHoveredItemId="",t.doEmitItemMouseEvents&&r("item-mouseleave",a,n)},Oe=(a,n)=>{var u,v;if(!t.enableDateSelection)return!1;(u=n.dataTransfer)==null||u.setData("text",a.toString());let o=new Image;return o.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",(v=n.dataTransfer)==null||v.setDragImage(o,10,10),s.dateSelectionOrigin=a,r("date-selection-start",K(a),n),!0},oe=(a,n)=>{var u;return t.enableDragDrop?((u=n.dataTransfer)==null||u.setData("text",a.id),s.currentDragItem=a,s.dateSelectionOrigin=void 0,r("drag-start",a,n),!0):!1},K=a=>a<=s.dateSelectionOrigin?[a,s.dateSelectionOrigin]:[s.dateSelectionOrigin,a],Fe=(a,n)=>{t.enableDragDrop&&r("drag-over-date",s.currentDragItem,a,n)},Ae=(a,n)=>{t.enableDateSelection&&s.dateSelectionOrigin&&r("date-selection",K(a),n),t.enableDragDrop&&(r("drag-enter-date",s.currentDragItem,a,n),n.target.classList.add("draghover"))},$e=(a,n)=>{t.enableDateSelection&&t.selectionStart||!t.enableDragDrop||(r("drag-leave-date",s.currentDragItem,a,n),n.target.classList.remove("draghover"))},Le=(a,n)=>{if(t.enableDateSelection&&s.dateSelectionOrigin){r("date-selection-finish",K(a),n);return}t.enableDragDrop&&(r("drop-on-date",s.currentDragItem,a,n),n.target.classList.remove("draghover"))},Te=(a,n)=>a.startDate<n.startDate?-1:n.startDate<a.startDate?1:a.endDate>n.endDate?-1:n.endDate>a.endDate?1:a.id<n.id?-1:1,Ye=a=>ne(a,i.addDays(a,6)),ne=(a,n)=>C.value.filter(u=>u.endDate>=a&&i.dateOnly(u.startDate)<=n,this).sort(Te),_e=a=>!!C.value.find(n=>n.endDate>=a&&i.dateOnly(n.startDate)<=a),se=a=>!(!t.selectionStart||!t.selectionEnd||a<i.dateOnly(t.selectionStart)||a>i.dateOnly(t.selectionEnd)),le=a=>{const n=Ye(a),u=[],v=[[],[],[],[],[],[],[]];if(!n)return u;for(let o=0;o<n.length;o++){const d=Object.assign({},n[o],{classes:[...n[o].classes],itemRow:0}),w=d.startDate<a,B=w?0:i.dayDiff(a,d.startDate),ue=Math.min(7-B,i.dayDiff(i.addDays(a,B),d.endDate)+1);w&&d.classes.push("continued"),i.dayDiff(a,d.endDate)>6&&d.classes.push("toBeContinued"),i.isInPast(d.endDate)&&d.classes.push("past"),d.originalItem.url&&d.classes.push("hasUrl");for(let F=0;F<7;F++)if(F===B){let R=0;for(;v[F][R];)R++;d.itemRow=R,v[F][R]=!0}else F<B+ue&&(v[F][d.itemRow]=!0);d.classes.push(`offset${B}`),d.classes.push(`span${ue}`),u.push(d)}return u},Be=a=>{const n='<span class="startTime">'+i.formattedTime(a.startDate,c.value,t.timeFormatOptions)+"</span>";let u="";return i.isSameDateTime(a.startDate,a.endDate)||(u='<span class="endTime">'+i.formattedTime(a.endDate,c.value,t.timeFormatOptions)+"</span>"),n+u},de=a=>t.showTimes?Be(a)+" "+a.title:a.title,z=a=>{const n=a.itemRow,u=t.itemContentHeight,v=t.itemBorderHeight;return`calc(${t.itemTop} + ${n}*${u} + ${n}*${v})`};return(a,n)=>(h(),f("div",{"aria-label":"Calendar",class:L(["cv-wrapper",`locale-${l(i).languageCode(l(c))}`,`locale-${l(c)}`,`y${l(p).getFullYear()}`,`m${l(i).paddedMonth(l(p))}`,`period-${e.displayPeriodUom}`,`periodCount-${e.displayPeriodCount}`,{past:l(i).isPastMonth(l(p)),future:l(i).isFutureMonth(l(p)),noIntl:!l(i).supportsIntl}])},[A(a.$slots,"header",{headerProps:l(Me)}),D("div",bt,[e.displayWeekNumbers?(h(),f("div",ft)):j("",!0),(h(!0),f(E,null,H(l(U),(u,v)=>A(a.$slots,"dayHeader",{index:_(v),label:u},()=>[(h(),f("div",{key:_(v),class:L([_(v),"cv-header-day"])},P(u),3))])),256))]),D("div",{"aria-multiselectable":e.enableDateSelection,class:"cv-weeks"},[(h(!0),f(E,null,H(l(k),(u,v)=>(h(),f("div",{key:`${v}-week`,class:L(["cv-week",`week${v+1}`,`ws${l(i).isoYearMonthDay(u)}`])},[e.displayWeekNumbers?(h(),f("div",wt,[A(a.$slots,"weekNumber",{date:u,numberInYear:l(Y)+v,numberInPeriod:v+1},()=>[D("span",null,P(l(Y)+v),1)])])):j("",!0),D("div",Pt,[(h(!0),f(E,null,H(l(i).daysOfWeek(u),(o,d)=>(h(),f("div",{key:_(d),draggable:e.enableDateSelection,class:L(["cv-day",_(d),`d${l(i).isoYearMonthDay(o)}`,`d${l(i).isoMonthDay(o)}`,`d${l(i).paddedDay(o)}`,`instance${l(i).instanceOfMonth(o)}`,{today:l(i).isSameDate(o,l(i).today()),outsideOfMonth:!l(i).isSameMonth(o,l(y)),past:l(i).isInPast(o),future:l(i).isInFuture(o),last:l(i).isLastDayOfMonth(o),lastInstance:l(i).isLastInstanceOfMonth(o),hasItems:_e(o),selectionStart:l(i).isSameDate(o,e.selectionStart),selectionEnd:l(i).isSameDate(o,e.selectionEnd)},...e.dateClasses&&e.dateClasses[l(i).isoYearMonthDay(o)]||[]]),"aria-grabbed":e.enableDateSelection?se(o):void 0,"aria-label":o.getDate().toString(),"aria-selected":se(o),"aria-dropeffect":e.enableDragDrop&&s.currentDragItem?"move":e.enableDateSelection&&s.dateSelectionOrigin?"execute":"none",onClick:w=>Ce(o,w),onDragstart:w=>Oe(o,w),onDrop:S(w=>Le(o,w),["prevent"]),onDragover:S(w=>Fe(o,w),["prevent"]),onDragenter:S(w=>Ae(o,w),["prevent"]),onDragleave:S(w=>$e(o,w),["prevent"])},[D("div",St,P(o.getDate()),1),A(a.$slots,"dayContent",{day:o})],42,kt))),128)),t.enableHtmlTitles?(h(!0),f(E,{key:0},H(le(u),o=>A(a.$slots,"item",{value:o,weekStartDate:u,top:z(o)},()=>[(h(),f("div",{key:o.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?o==s.currentDragItem:void 0,class:L([o.classes,"cv-item"]),title:o.tooltip||o.title,style:ce(`top:${z(o)};${o.originalItem.style}`),onDragstart:d=>oe(o,d),onMouseenter:d=>re(o,d),onMouseleave:d=>ie(o,d),onClick:S(d=>ae(o,d),["stop"]),innerHTML:de(o)},null,46,Mt))])),256)):(h(!0),f(E,{key:1},H(le(u),o=>A(a.$slots,"item",{value:o,weekStartDate:u,top:z(o)},()=>[(h(),f("div",{key:o.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?o==s.currentDragItem:void 0,class:L([o.classes,"cv-item"]),title:o.tooltip||o.title,style:ce(`top:${z(o)};${o.originalItem.style}`),onDragstart:d=>oe(o,d),onMouseenter:d=>re(o,d),onMouseleave:d=>ie(o,d),onClick:S(d=>ae(o,d),["stop"])},P(de(o)),47,It)),De(" div> ")])),256))])],2))),128))],8,yt)],2))}}),Ct={class:"cv-header"},Ot={class:"cv-header-nav"},Ft=["disabled"],At=["disabled","innerHTML"],$t=["disabled"],Lt=["disabled"],Tt={class:"periodLabel"},we=W({__name:"CalendarViewHeader",props:{headerProps:{type:Object,required:!0},previousYearLabel:{type:String,default:"<<"},previousPeriodLabel:{type:String,default:"<"},nextPeriodLabel:{type:String,default:">"},nextYearLabel:{type:String,default:">>"}},emits:["input"],setup(e,{emit:r}){const t=s=>r("input",s);return(s,c)=>(h(),f("div",Ct,[D("div",Ot,[D("button",{disabled:!e.headerProps.previousYear,class:"previousYear","aria-label":"Previous Year",onClick:c[0]||(c[0]=S(y=>t(e.headerProps.previousYear),["prevent"]))},P(e.previousYearLabel),9,Ft),D("button",{disabled:!e.headerProps.previousPeriod,class:"previousPeriod","aria-label":"Previous Period",onClick:c[1]||(c[1]=S(y=>t(e.headerProps.previousPeriod),["prevent"])),innerHTML:e.previousPeriodLabel},null,8,At),D("button",{class:"currentPeriod","aria-label":"Current Period",onClick:c[2]||(c[2]=S(y=>t(e.headerProps.currentPeriod),["prevent"]))},P(e.headerProps.currentPeriodLabel),1),D("button",{disabled:!e.headerProps.nextPeriod,class:"nextPeriod","aria-label":"Next Period",onClick:c[3]||(c[3]=S(y=>t(e.headerProps.nextPeriod),["prevent"]))},P(e.nextPeriodLabel),9,$t),D("button",{disabled:!e.headerProps.nextYear,class:"nextYear","aria-label":"Next Year",onClick:c[4]||(c[4]=S(y=>t(e.headerProps.nextYear),["prevent"]))},P(e.nextYearLabel),9,Lt)]),D("div",Tt,[A(s.$slots,"label",{},()=>[De(P(e.headerProps.periodLabel),1)])])]))}}),Pe=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],Yt=D("option",{value:"mattina"},"Mattina",-1),_t=D("option",{value:"pomeriggio"},"Pomeriggio",-1),Bt=[Yt,_t],Et=D("button",{type:"submit"},"Conferma",-1),Ht={props:{date:{type:Date,required:!0}},data(){return{timeSlot:"mattina"}},methods:{saveBooking(){this.$emit("save",{date:this.date,timeSlot:this.timeSlot})}}},Nt=W({...Ht,__name:"BookSlot",setup(e){return(r,t)=>(h(),f("div",null,[D("h2",null,"Dai la disponibilità per il "+P(e.date.getDate())+" "+P(l(Pe)[e.date.getMonth()]),1),D("form",{onSubmit:t[1]||(t[1]=S((...s)=>r.saveBooking&&r.saveBooking(...s),["prevent"]))},[Ne(D("select",{id:"time-slot","onUpdate:modelValue":t[0]||(t[0]=s=>r.timeSlot=s)},Bt,512),[[We,r.timeSlot]]),Et],32)]))}});const Wt={props:{date:{type:Date,required:!0},time:{type:String,required:!0}},data(){return{timeSlot:"mattina"}},methods:{saveBooking(){this.$emit("save",{date:this.date,timeSlot:this.time})}}},xt=W({...Wt,__name:"ExistingSlot",setup(e){return(r,t)=>(h(),f("div",null,[D("h2",null,"Dai la disponibilità per il "+P(e.date.getDate())+" "+P(l(Pe)[e.date.getMonth()])+" "+P(e.time),1),D("button",{onClick:t[0]||(t[0]=(...s)=>r.saveBooking&&r.saveBooking(...s))},"Conferma")]))}}),Ut={class:"availabilityView"},Vt={id:"calendar-component"},zt={data:function(){return{showDate:new Date,showNewSlot:!1,showExistingSlot:!1,selectedDate:new Date,selectedSlot:"mattina"}},components:{CalendarView:ye,CalendarViewHeader:we},methods:{setShowDate(e){this.showDate=e},onClickDay(e){this.selectedDate=e,this.showExistingSlot=!1,this.showNewSlot=!0},onClickItem(e){e.originalItem.slotAvailables>0&&(this.selectedSlot=e.id.charAt(e.id.length-1)==="M"?"mattina":"pomeriggio",this.selectedDate=e.startDate,this.showExistingSlot=!0,this.showNewSlot=!1)}}},qt=W({...zt,__name:"AvailabilityView",setup(e){var Y;function r(g){return g.map(k=>{const I=k.id.substring(0,8),U=k.id.charAt(k.id.length-1);let C;if(U==="M")C=8;else if(U==="P")C=15;else throw new Error("Formato ID non riconosciuto");const O=new Date(parseInt(I.substring(0,4),10),parseInt(I.substring(4,6),10)-1,parseInt(I.substring(6,8),10),C),V=new Date(O);return V.setHours(O.getHours()+4),{id:k.id,startDate:O,endDate:V,title:k.users.length>=3?"Al completo":`${3-k.users.length} posti disponibili`,classes:k.users.length>=3?"red":"green",slotAvailables:3-k.users.length}})}const t=xe(Q,"availabilities"),s=Ue(t,{wait:!0}),c=b(()=>r(s.value)),y=(Y=Ve().value)==null?void 0:Y.uid;function p(g,M){return`availabilities/${g.getFullYear()}${(g.getMonth()+1).toString().padStart(2,"0")}${g.getDate().toString().padStart(2,"0")}-${M==="mattina"?"M":"P"}`}function m(g){Re(pe(Q,p(g.date,g.timeSlot)),{users:qe(pe(Q,`users/${y}`))})}return(g,M)=>(h(),f("div",Ut,[D("div",Vt,[ge(l(ye),{"show-date":g.showDate,class:"theme-default",onClickDate:g.onClickDay,onClickItem:g.onClickItem,items:c.value,"disable-past":!0,"current-period-label":"icons","display-period-uom":"month"},{header:ze(({headerProps:k})=>[ge(l(we),{"header-props":k,onInput:g.setShowDate},null,8,["header-props","onInput"])]),_:1},8,["show-date","onClickDate","onClickItem","items"]),g.showNewSlot?(h(),me(Nt,{key:0,date:g.selectedDate,onSave:m},null,8,["date"])):j("",!0),g.showExistingSlot?(h(),me(xt,{key:1,date:g.selectedDate,time:g.selectedSlot,onSave:m},null,8,["date","time"])):j("",!0)])]))}});export{qt as default};
