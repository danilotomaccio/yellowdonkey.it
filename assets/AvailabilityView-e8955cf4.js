import{k as se,l as Qe,m as Ae,n as j,q as pe,v as Je,x as Xe,y as Ze,z as Oe,A as et,B as tt,C as at,D as Fe,d as z,c as g,h as l,t as A,e as c,b as p,E as ge,H as ot,I as rt,J as nt,K as C,L as it,M as q,f as Y,F as L,N as E,O as G,P as V,Q as $e,R as ee,S as O,a as Te,T as st,U as K,V as lt,i as te,w as Le,W as dt,X as Z,r as ct,Y as Me,Z as ut,$ as ht,a0 as vt,a1 as Pe}from"./index-d7057997.js";/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const mt=se`@media(forced-colors: active){:host{--md-radio-disabled-selected-icon-color: GrayText;--md-radio-disabled-selected-icon-opacity: 1;--md-radio-disabled-unselected-icon-color: GrayText;--md-radio-disabled-unselected-icon-opacity: 1;--md-radio-selected-icon-color: CanvasText;--md-radio-selected-hover-icon-color: CanvasText;--md-radio-selected-focus-icon-color: CanvasText;--md-radio-selected-pressed-icon-color: CanvasText;--md-radio-icon-color: CanvasText;--md-radio-hover-icon-color: CanvasText;--md-radio-focus-icon-color: CanvasText;--md-radio-pressed-icon-color: CanvasText}}/*# sourceMappingURL=forced-colors-styles.css.map */
`;/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pt{constructor(a){this.host=a,this.focused=!1,this.root=null,this.handleFocusIn=()=>{this.focused=!0,this.updateTabIndices()},this.handleFocusOut=()=>{this.focused=!1,this.updateTabIndices()},this.handleKeyDown=t=>{const i=t.key==="ArrowDown",v=t.key==="ArrowUp",b=t.key==="ArrowLeft",u=t.key==="ArrowRight";if(!b&&!u&&!i&&!v)return;const d=this.getNamedSiblings();if(!d.length)return;t.preventDefault();const I=getComputedStyle(this.host).direction==="rtl"?b||i:u||i,P=d.indexOf(this.host);let S=I?P+1:P-1;for(;S!==P;){S>=d.length?S=0:S<0&&(S=d.length-1);const x=d[S];if(x.hasAttribute("disabled")){I?S++:S--;continue}for(const f of d)f!==x&&(f.checked=!1,f.tabIndex=-1);x.checked=!0,x.removeAttribute("tabindex"),x.focus(),x.dispatchEvent(new Event("change",{bubbles:!0}));break}}}hostConnected(){this.root=this.host.getRootNode(),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("focusin",this.handleFocusIn),this.host.addEventListener("focusout",this.handleFocusOut),this.host.checked&&this.uncheckSiblings(),this.updateTabIndices()}hostDisconnected(){this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("focusin",this.handleFocusIn),this.host.removeEventListener("focusout",this.handleFocusOut),this.updateTabIndices(),this.root=null}handleCheckedChange(){this.host.checked&&(this.uncheckSiblings(),this.updateTabIndices())}uncheckSiblings(){for(const a of this.getNamedSiblings())a!==this.host&&(a.checked=!1)}updateTabIndices(){const a=this.getNamedSiblings(),t=a.find(i=>i.checked);if(t||this.focused){const i=t||this.host;i.removeAttribute("tabindex");for(const v of a)v!==i&&(v.tabIndex=-1);return}for(const i of a)i.removeAttribute("tabindex")}getNamedSiblings(){const a=this.host.getAttribute("name");return!a||!this.root?[]:Array.from(this.root.querySelectorAll(`[name="${a}"]`))}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ee;const ue=Symbol("checked");let gt=0;class B extends Ae{get checked(){return this[ue]}set checked(a){const t=this.checked;if(t===a)return;this[ue]=a;const i=String(a);this.internals.setFormValue(this.checked?this.value:null,i),this.requestUpdate("checked",t),this.selectionController.handleCheckedChange()}get name(){return this.getAttribute("name")??""}set name(a){this.setAttribute("name",a)}get form(){return this.internals.form}get labels(){return this.internals.labels}constructor(){super(),this.maskId=`cutout${++gt}`,this[Ee]=!1,this.disabled=!1,this.value="on",this.selectionController=new pt(this),this.internals=this.attachInternals(),this.addController(this.selectionController),this.addEventListener("click",a=>{Xe(a)&&(this.focus(),Ze(this.input))})}focus(){var a;(a=this.input)==null||a.focus()}render(){const a={checked:this.checked},{ariaLabel:t}=this;return Oe`
      <div class="container ${et(a)}">
        <md-ripple for="input" ?disabled=${this.disabled}></md-ripple>
        <md-focus-ring part="focus-ring" for="input"></md-focus-ring>
        <svg class="icon" viewBox="0 0 20 20">
          <mask id="${this.maskId}">
            <rect width="100%" height="100%" fill="white" />
            <circle cx="10" cy="10" r="8" fill="black" />
          </mask>
          <circle class="outer circle" cx="10" cy="10" r="10"
              mask="url(#${this.maskId})" />
          <circle class="inner circle" cx="10" cy="10" r="5" />
        </svg>
        <input
          id="input"
          type="radio"
          name=${this.name}
          aria-label=${t||tt}
          .checked=${this.checked}
          .value=${this.value}
          ?disabled=${this.disabled}
          @change=${this.handleChange}
        >
      </div>
    `}handleChange(a){this.disabled||(this.checked=!0,at(this,a))}formResetCallback(){this.checked=this.hasAttribute("checked")}formStateRestoreCallback(a){this.checked=a==="true"}}Ee=ue;Qe(B);B.shadowRootOptions={...Ae.shadowRootOptions,delegatesFocus:!0};B.formAssociated=!0;j([pe({type:Boolean})],B.prototype,"checked",null);j([pe({type:Boolean,reflect:!0})],B.prototype,"disabled",void 0);j([pe()],B.prototype,"value",void 0);j([Je("input")],B.prototype,"input",void 0);/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const ft=se`:host{--_disabled-selected-icon-color: var(--md-radio-disabled-selected-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-selected-icon-opacity: var(--md-radio-disabled-selected-icon-opacity, 0.38);--_disabled-unselected-icon-color: var(--md-radio-disabled-unselected-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-unselected-icon-opacity: var(--md-radio-disabled-unselected-icon-opacity, 0.38);--_icon-size: var(--md-radio-icon-size, 20px);--_selected-focus-icon-color: var(--md-radio-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-icon-color: var(--md-radio-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-color: var(--md-radio-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-opacity: var(--md-radio-selected-hover-state-layer-opacity, 0.08);--_selected-icon-color: var(--md-radio-selected-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-icon-color: var(--md-radio-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-color: var(--md-radio-selected-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_selected-pressed-state-layer-opacity: var(--md-radio-selected-pressed-state-layer-opacity, 0.12);--_state-layer-size: var(--md-radio-state-layer-size, 40px);--_focus-icon-color: var(--md-radio-focus-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-icon-color: var(--md-radio-hover-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-color: var(--md-radio-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity: var(--md-radio-hover-state-layer-opacity, 0.08);--_icon-color: var(--md-radio-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-icon-color: var(--md-radio-pressed-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-state-layer-color: var(--md-radio-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-radio-pressed-state-layer-opacity, 0.12);--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity);display:inline-flex;height:var(--_icon-size);position:relative;vertical-align:top;width:var(--_icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_icon-size))/2)}.container{display:grid;height:100%;place-content:center;place-items:center;width:100%}md-focus-ring{height:44px;inset:unset;width:44px}.checked{--md-ripple-hover-color: var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity: var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color: var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_selected-pressed-state-layer-opacity)}input{appearance:none;height:48px;outline:none;margin:0;position:absolute;width:48px}:host([touch-target=none]) input{width:100%;height:100%}md-ripple{border-radius:50%;height:var(--_state-layer-size);inset:unset;width:var(--_state-layer-size)}.icon{fill:var(--_icon-color);inset:0;position:absolute}.outer.circle{transition:fill 50ms linear}.inner.circle{opacity:0;transform-origin:center;transition:opacity 50ms linear}.checked .icon{fill:var(--_selected-icon-color)}.checked .inner.circle{animation:inner-circle-grow 300ms cubic-bezier(0.05, 0.7, 0.1, 1);opacity:1}@keyframes inner-circle-grow{from{transform:scale(0)}to{transform:scale(1)}}:host([disabled]) .circle{animation-duration:0s;transition-duration:0s}:host(:hover) .icon{fill:var(--_hover-icon-color)}:host(:focus-within) .icon{fill:var(--_focus-icon-color)}:host(:active) .icon{fill:var(--_pressed-icon-color)}:host([disabled]) .icon{fill:var(--_disabled-unselected-icon-color);opacity:var(--_disabled-unselected-icon-opacity)}:host(:hover) .checked .icon{fill:var(--_selected-hover-icon-color)}:host(:focus-within) .checked .icon{fill:var(--_selected-focus-icon-color)}:host(:active) .checked .icon{fill:var(--_selected-pressed-icon-color)}:host([disabled]) .checked .icon{fill:var(--_disabled-selected-icon-color);opacity:var(--_disabled-selected-icon-opacity)}/*# sourceMappingURL=radio-styles.css.map */
`;/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let he=class extends B{};he.styles=[ft,mt];he=j([Fe("md-radio")],he);const yt=l("span",{"aria-hidden":"true"},"Mattina",-1),bt=l("span",{"aria-hidden":"true"},"Pomeriggio",-1),_t={props:{date:{type:Date,required:!0}},methods:{onSelect(e){this.$emit("select",{timeSlot:e})}}},Dt=z({..._t,__name:"BookSlot",setup(e){return(a,t)=>(p(),g("div",null,[l("h2",null,"Dai la disponibilità per il "+A(e.date.getDate())+" "+A(c(ge)[e.date.getMonth()]),1),l("form",null,[l("label",null,[l("md-radio",{onChange:t[0]||(t[0]=i=>a.onSelect("mattina")),type:"radio",name:"time",value:"mattina","aria-label":"Mattina","touch-target":"wrapper",checked:""},null,32),yt]),l("label",null,[l("md-radio",{onChange:t[1]||(t[1]=i=>a.onSelect("pomeriggio")),type:"radio",name:"time",value:"pomeriggio","aria-label":"Pomeriggio","touch-target":"wrapper"},null,32),bt])])]))}});const kt={props:{date:{type:Date,required:!0},time:{type:String,required:!0}}},wt=z({...kt,__name:"ExistingSlot",setup(e){return(a,t)=>(p(),g("div",null,[l("h2",null,"Dai la disponibilità per il "+A(e.date.getDate())+" "+A(c(ge)[e.date.getMonth()])+" "+A(e.time),1)]))}});/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ct extends ot{renderElevation(){return Oe`<md-elevation></md-elevation>`}}/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const St=se`:host{--_container-color: var(--md-filled-tonal-button-container-color, var(--md-sys-color-secondary-container, #e8def8));--_container-elevation: var(--md-filled-tonal-button-container-elevation, 0);--_container-height: var(--md-filled-tonal-button-container-height, 40px);--_container-shadow-color: var(--md-filled-tonal-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_container-shape: var(--md-filled-tonal-button-container-shape, 9999px);--_disabled-container-color: var(--md-filled-tonal-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-elevation: var(--md-filled-tonal-button-disabled-container-elevation, 0);--_disabled-container-opacity: var(--md-filled-tonal-button-disabled-container-opacity, 0.12);--_disabled-label-text-color: var(--md-filled-tonal-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-tonal-button-disabled-label-text-opacity, 0.38);--_focus-container-elevation: var(--md-filled-tonal-button-focus-container-elevation, 0);--_focus-label-text-color: var(--md-filled-tonal-button-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-container-elevation: var(--md-filled-tonal-button-hover-container-elevation, 1);--_hover-label-text-color: var(--md-filled-tonal-button-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-color: var(--md-filled-tonal-button-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-opacity: var(--md-filled-tonal-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filled-tonal-button-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_label-text-type: var(--md-filled-tonal-button-label-text-type, var(--md-sys-typescale-label-large, 500 0.875rem / 1.25rem var(--md-ref-typeface-plain, Roboto)));--_pressed-container-elevation: var(--md-filled-tonal-button-pressed-container-elevation, 0);--_pressed-label-text-color: var(--md-filled-tonal-button-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-color: var(--md-filled-tonal-button-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity: var(--md-filled-tonal-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-filled-tonal-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-filled-tonal-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-filled-tonal-button-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-icon-color: var(--md-filled-tonal-button-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-color: var(--md-filled-tonal-button-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-size: var(--md-filled-tonal-button-icon-size, 18px);--_pressed-icon-color: var(--md-filled-tonal-button-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_leading-space: var(--md-filled-tonal-button-leading-space, 24px);--_trailing-space: var(--md-filled-tonal-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-filled-tonal-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-filled-tonal-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-filled-tonal-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-filled-tonal-button-with-trailing-icon-trailing-space, 16px);--_container-shape-start-start: var( --md-filled-tonal-button-container-shape-start-start, var(--_container-shape) );--_container-shape-start-end: var( --md-filled-tonal-button-container-shape-start-end, var(--_container-shape) );--_container-shape-end-end: var( --md-filled-tonal-button-container-shape-end-end, var(--_container-shape) );--_container-shape-end-start: var( --md-filled-tonal-button-container-shape-end-start, var(--_container-shape) )}/*# sourceMappingURL=filled-tonal-styles.css.map */
`;/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const xt=se`md-elevation{transition-duration:280ms}.button{--md-elevation-level: var(--_container-elevation);--md-elevation-shadow-color: var(--_container-shadow-color)}.button:focus{--md-elevation-level: var(--_focus-container-elevation)}.button:hover{--md-elevation-level: var(--_hover-container-elevation)}.button:active{--md-elevation-level: var(--_pressed-container-elevation)}.button:disabled{--md-elevation-level: var(--_disabled-container-elevation)}/*# sourceMappingURL=shared-elevation-styles.css.map */
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ve=class extends Ct{};ve.styles=[rt,xt,St];ve=j([Fe("md-filled-tonal-button")],ve);var It=Object.defineProperty,$t=(e,a,t)=>a in e?It(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,ie=(e,a,t)=>($t(e,typeof a!="symbol"?a+"":a,t),t);const oe=()=>le(new Date),Mt=(e,a,t)=>{switch(a){case"year":return new Date(e.getFullYear(),0);case"month":return new Date(e.getFullYear(),e.getMonth());case"week":return fe(e,t);default:return e}},Pt=e=>[...Array(7)].map((a,t)=>Q(e,t)),Q=(e,a)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+a,e.getHours(),e.getMinutes(),e.getSeconds()),fe=(e,a)=>Q(e,(a-e.getDay()-7)%-7),At=(e,a)=>Q(fe(e,a),7),ae=e=>new Date(e.getFullYear(),e.getMonth()),Ot=e=>Math.ceil(e.getDate()/7),Ft=(e,a,t)=>new Date(e.getFullYear()+(a=="year"?t:0),e.getMonth()+(a=="month"?t:0),e.getDate()+(a=="week"?t*7:0)),ye=e=>("0"+String(e.getMonth()+1)).slice(-2),be=e=>("0"+String(e.getDate())).slice(-2),Be=e=>e.getFullYear()+"-"+ye(e),Tt=e=>Be(e)+"-"+be(e),Lt=e=>ye(e)+"-"+be(e),Et=(e,a,t)=>{if(e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0)return"";if(!de()){var i=new Date().getTimezoneOffset()*6e4;return new Date(e.getTime()-i).toISOString().slice(11,16)}return e.toLocaleTimeString(a,t)},Bt=(e,a,t,i)=>{const v=e.getFullYear()===a.getFullYear(),b=Ne(e,a),u=t!=="year"&&t!=="month";let d=[];return d.push(i[e.getMonth()]),u&&(d.push(" "),d.push(e.getDate())),v||(d.push(u?", ":" "),d.push(e.getFullYear())),!b||!v?(d.push(" – "),b||d.push(i[a.getMonth()]),u&&d.push(" ")):u&&d.push(" – "),u?(d.push(a.getDate()),d.push(", ")):d.push(" "),d.push(a.getFullYear()),d.join("")},Ue=(e,a)=>{const t=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return(t-i)/864e5},Ut=(e,a)=>!!e&&!!a&&Ue(e,a)===0,Nt=(e,a)=>!!e&&!!a&&e.getTime()===a.getTime(),Ne=(e,a)=>!!e&&!!a&&e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth(),Rt=e=>ae(e)<ae(oe()),Ht=e=>ae(e)>ae(oe()),Yt=e=>le(e)>oe(),zt=e=>le(e)<oe(),Wt=e=>e.getMonth()!==Q(e,7).getMonth(),qt=e=>e.getMonth()!==Q(e,1).getMonth(),Re=e=>{let a=[...Array(7)].map(t=>0);return e.split(/\D/,7).forEach((t,i)=>a[i]=Number(t)),a[1]--,new Date(a[0],a[1],a[2],a[3],a[4],a[5],a[6])},me=e=>typeof e=="string"?Re(e):new Date(e),le=e=>{const a=new Date(e);return a.setHours(0,0,0,0),a},Gt=e=>e.substring(0,2),de=()=>typeof Intl<"u",Vt=(e,a)=>{if(!de())return[...Array(12)].map(i=>"");const t=new Intl.DateTimeFormat(e,{month:a});return[...Array(12)].map((i,v)=>t.format(new Date(2017,v,1)))},Kt=(e,a,t)=>{if(!de())return[...Array(7)].map(v=>"");const i=new Intl.DateTimeFormat(e,{weekday:a});return[...Array(7)].map((v,b)=>i.format(new Date(2017,0,(b+1+t)%7)))},jt=()=>typeof navigator>"u"?"unk":(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language).toLowerCase(),Qt=(e,a)=>{const t=e.classes?[...e.classes]:[];return a&&t.push("isHovered"),{originalItem:e,startDate:me(e.startDate),endDate:me(e.endDate||e.startDate),classes:t,title:e.title||"Untitled",id:e.id,url:e.url,tooltip:e.tooltip??e.title}},r={addDays:Q,beginningOfMonth:ae,beginningOfPeriod:Mt,beginningOfWeek:fe,dateOnly:le,dayDiff:Ue,daysOfWeek:Pt,endOfWeek:At,formattedPeriod:Bt,formattedTime:Et,fromIsoStringToLocalDate:Re,getDefaultBrowserLocale:jt,getFormattedMonthNames:Vt,getFormattedWeekdayNames:Kt,incrementPeriod:Ft,instanceOfMonth:Ot,isFutureMonth:Ht,isInFuture:Yt,isInPast:zt,isLastDayOfMonth:qt,isLastInstanceOfMonth:Wt,isoMonthDay:Lt,isoYearMonth:Be,isoYearMonthDay:Tt,isPastMonth:Rt,isSameDate:Ut,isSameDateTime:Nt,isSameMonth:Ne,languageCode:Gt,normalizeItem:Qt,paddedDay:be,paddedMonth:ye,supportsIntl:de,today:oe,toLocalDate:me};class Jt{constructor(){ie(this,"currentDragItem"),ie(this,"dateSelectionOrigin"),ie(this,"currentHoveredItemId",""),ie(this,"CalendarMath",r)}}const Xt={class:"cv-header-days"},Zt={key:0,class:"cv-weeknumber"},ea=["aria-multiselectable"],ta={key:0,class:"cv-weeknumber"},aa={class:"cv-weekdays"},oa=["draggable","aria-grabbed","aria-label","aria-selected","aria-dropeffect","onClick","onDragstart","onDrop","onDragover","onDragenter","onDragleave"],ra={class:"cv-day-number"},na=["draggable","aria-grabbed","title","onDragstart","onMouseenter","onMouseleave","onClick","innerHTML"],ia=["draggable","aria-grabbed","title","onDragstart","onMouseenter","onMouseleave","onClick"],sa=z({__name:"CalendarView",props:{showDate:{default:void 0},displayPeriodUom:{default:"month"},displayPeriodCount:{default:1},displayWeekNumbers:{type:Boolean,default:!1},locale:{default:void 0},monthNameFormat:{default:"long"},weekdayNameFormat:{default:"short"},showTimes:{type:Boolean,default:!1},timeFormatOptions:{default:()=>({})},disablePast:{type:Boolean,default:!1},disableFuture:{type:Boolean,default:!1},enableDateSelection:{type:Boolean,default:!1},selectionStart:{default:void 0},selectionEnd:{default:void 0},enableDragDrop:{type:Boolean,default:!1},startingDayOfWeek:{default:0},items:{default:()=>[]},dateClasses:{default:()=>({})},itemTop:{default:"1.4em"},itemContentHeight:{default:"1.4em"},itemBorderHeight:{default:"2px"},periodChangedCallback:{type:Function,default:void 0},currentPeriodLabel:{default:""},currentPeriodLabelIcons:{default:"⇤-⇥"},doEmitItemMouseEvents:{type:Boolean,default:!1},enableHtmlTitles:{type:Boolean,default:!0}},emits:["period-changed","click-date","click-item","item-mouseenter","item-mouseleave","drag-start","drag-over-date","drag-enter-date","drag-leave-date","drop-on-date","date-selection","date-selection-start","date-selection-finish"],setup(e,{emit:a}){const t=e,i=nt(new Jt),v=C(()=>t.locale||r.getDefaultBrowserLocale()),b=C(()=>t.showDate?r.dateOnly(t.showDate):r.today()),u=C(()=>r.beginningOfPeriod(b.value,t.displayPeriodUom,t.startingDayOfWeek)),d=C(()=>r.addDays(r.incrementPeriod(u.value,t.displayPeriodUom,t.displayPeriodCount),-1)),k=C(()=>{const o=r.beginningOfWeek(r.beginningOfPeriod(u.value,"year",0),t.startingDayOfWeek),s=r.beginningOfWeek(u.value,t.startingDayOfWeek);return 1+Math.floor(r.dayDiff(o,s)/7)}),I=C(()=>r.beginningOfWeek(u.value,t.startingDayOfWeek)),P=C(()=>r.endOfWeek(d.value,t.startingDayOfWeek)),S=C(()=>{const o=Math.floor((r.dayDiff(I.value,P.value)+1)/7);return[...Array(o)].map((s,m)=>r.addDays(I.value,m*7))}),x=C(()=>r.getFormattedMonthNames(v.value,t.monthNameFormat)),f=C(()=>r.getFormattedWeekdayNames(v.value,t.weekdayNameFormat,t.startingDayOfWeek)),F=C(()=>t.items?t.items.map(o=>r.normalizeItem(o,o.id===i.currentHoveredItemId)):[]),D=C(()=>r.beginningOfPeriod(r.today(),t.displayPeriodUom,t.startingDayOfWeek)),U=C(()=>r.addDays(r.incrementPeriod(D.value,t.displayPeriodUom,t.displayPeriodCount),-1)),N=C(()=>r.formattedPeriod(u.value,d.value,t.displayPeriodUom,x.value)),_=C(()=>{const o=D.value,s=u.value;return t.currentPeriodLabel?t.currentPeriodLabel==="icons"?t.currentPeriodLabelIcons[Math.sign(o.getTime()-s.getTime())+1]:t.currentPeriodLabel:r.formattedPeriod(o,U.value,t.displayPeriodUom,x.value)}),y=C(()=>({previousYear:W(-12),previousPeriod:W(-1),nextPeriod:W(1),previousFullPeriod:W(-t.displayPeriodCount),nextFullPeriod:W(t.displayPeriodCount),nextYear:W(12),currentPeriod:D.value,currentPeriodLabel:_.value,periodStart:u.value,periodEnd:d.value,displayLocale:v.value,displayFirstDate:I.value,displayLastDate:P.value,monthNames:x.value,fixedItems:F.value,periodLabel:N.value})),R=C(()=>({periodStart:u,periodEnd:d,displayFirstDate:I,displayLastDate:P}));it(()=>R,o=>{t.periodChangedCallback&&(a("period-changed"),t.periodChangedCallback(o,"watch"))},{immediate:!0,deep:!0});const $=(o,s)=>{t.disablePast&&r.isInPast(o)||t.disableFuture&&r.isInFuture(o)||a("click-date",o,we(o,o),s)},J=(o,s)=>a("click-item",o,s),T=o=>"dow"+(o+t.startingDayOfWeek)%7,W=o=>{const s=r.incrementPeriod(u.value,t.displayPeriodUom,o),m=r.incrementPeriod(s,t.displayPeriodUom,t.displayPeriodCount);return t.disablePast&&m<=r.today()||t.disableFuture&&s>r.today()?null:s},_e=(o,s)=>{i.currentHoveredItemId=o.id,t.doEmitItemMouseEvents&&a("item-mouseenter",o,s)},De=(o,s)=>{i.currentHoveredItemId="",t.doEmitItemMouseEvents&&a("item-mouseleave",o,s)},He=(o,s)=>{var m,w;if(!t.enableDateSelection)return!1;(m=s.dataTransfer)==null||m.setData("text",o.toString());let n=new Image;return n.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",(w=s.dataTransfer)==null||w.setDragImage(n,10,10),i.dateSelectionOrigin=o,a("date-selection-start",ce(o),s),!0},ke=(o,s)=>{var m;return t.enableDragDrop?((m=s.dataTransfer)==null||m.setData("text",o.id),i.currentDragItem=o,i.dateSelectionOrigin=void 0,a("drag-start",o,s),!0):!1},ce=o=>o<=i.dateSelectionOrigin?[o,i.dateSelectionOrigin]:[i.dateSelectionOrigin,o],Ye=(o,s)=>{t.enableDragDrop&&a("drag-over-date",i.currentDragItem,o,s)},ze=(o,s)=>{t.enableDateSelection&&i.dateSelectionOrigin&&a("date-selection",ce(o),s),t.enableDragDrop&&(a("drag-enter-date",i.currentDragItem,o,s),s.target.classList.add("draghover"))},We=(o,s)=>{t.enableDateSelection&&t.selectionStart||!t.enableDragDrop||(a("drag-leave-date",i.currentDragItem,o,s),s.target.classList.remove("draghover"))},qe=(o,s)=>{if(t.enableDateSelection&&i.dateSelectionOrigin){a("date-selection-finish",ce(o),s);return}t.enableDragDrop&&(a("drop-on-date",i.currentDragItem,o,s),s.target.classList.remove("draghover"))},Ge=(o,s)=>o.startDate<s.startDate?-1:s.startDate<o.startDate?1:o.endDate>s.endDate?-1:s.endDate>o.endDate?1:o.id<s.id?-1:1,Ve=o=>we(o,r.addDays(o,6)),we=(o,s)=>F.value.filter(m=>m.endDate>=o&&r.dateOnly(m.startDate)<=s,this).sort(Ge),Ke=o=>!!F.value.find(s=>s.endDate>=o&&r.dateOnly(s.startDate)<=o),Ce=o=>!(!t.selectionStart||!t.selectionEnd||o<r.dateOnly(t.selectionStart)||o>r.dateOnly(t.selectionEnd)),Se=o=>{const s=Ve(o),m=[],w=[[],[],[],[],[],[],[]];if(!s)return m;for(let n=0;n<s.length;n++){const h=Object.assign({},s[n],{classes:[...s[n].classes],itemRow:0}),M=h.startDate<o,X=M?0:r.dayDiff(o,h.startDate),Ie=Math.min(7-X,r.dayDiff(r.addDays(o,X),h.endDate)+1);M&&h.classes.push("continued"),r.dayDiff(o,h.endDate)>6&&h.classes.push("toBeContinued"),r.isInPast(h.endDate)&&h.classes.push("past"),h.originalItem.url&&h.classes.push("hasUrl");for(let H=0;H<7;H++)if(H===X){let ne=0;for(;w[H][ne];)ne++;h.itemRow=ne,w[H][ne]=!0}else H<X+Ie&&(w[H][h.itemRow]=!0);h.classes.push(`offset${X}`),h.classes.push(`span${Ie}`),m.push(h)}return m},je=o=>{const s='<span class="startTime">'+r.formattedTime(o.startDate,v.value,t.timeFormatOptions)+"</span>";let m="";return r.isSameDateTime(o.startDate,o.endDate)||(m='<span class="endTime">'+r.formattedTime(o.endDate,v.value,t.timeFormatOptions)+"</span>"),s+m},xe=o=>t.showTimes?je(o)+" "+o.title:o.title,re=o=>{const s=o.itemRow,m=t.itemContentHeight,w=t.itemBorderHeight;return`calc(${t.itemTop} + ${s}*${m} + ${s}*${w})`};return(o,s)=>(p(),g("div",{"aria-label":"Calendar",class:G(["cv-wrapper",`locale-${c(r).languageCode(c(v))}`,`locale-${c(v)}`,`y${c(u).getFullYear()}`,`m${c(r).paddedMonth(c(u))}`,`period-${e.displayPeriodUom}`,`periodCount-${e.displayPeriodCount}`,{past:c(r).isPastMonth(c(u)),future:c(r).isFutureMonth(c(u)),noIntl:!c(r).supportsIntl}])},[q(o.$slots,"header",{headerProps:c(y)}),l("div",Xt,[e.displayWeekNumbers?(p(),g("div",Zt)):Y("",!0),(p(!0),g(L,null,E(c(f),(m,w)=>q(o.$slots,"dayHeader",{index:T(w),label:m},()=>[(p(),g("div",{key:T(w),class:G([T(w),"cv-header-day"])},A(m),3))])),256))]),l("div",{"aria-multiselectable":e.enableDateSelection,class:"cv-weeks"},[(p(!0),g(L,null,E(c(S),(m,w)=>(p(),g("div",{key:`${w}-week`,class:G(["cv-week",`week${w+1}`,`ws${c(r).isoYearMonthDay(m)}`])},[e.displayWeekNumbers?(p(),g("div",ta,[q(o.$slots,"weekNumber",{date:m,numberInYear:c(k)+w,numberInPeriod:w+1},()=>[l("span",null,A(c(k)+w),1)])])):Y("",!0),l("div",aa,[(p(!0),g(L,null,E(c(r).daysOfWeek(m),(n,h)=>(p(),g("div",{key:T(h),draggable:e.enableDateSelection,class:G(["cv-day",T(h),`d${c(r).isoYearMonthDay(n)}`,`d${c(r).isoMonthDay(n)}`,`d${c(r).paddedDay(n)}`,`instance${c(r).instanceOfMonth(n)}`,{today:c(r).isSameDate(n,c(r).today()),outsideOfMonth:!c(r).isSameMonth(n,c(b)),past:c(r).isInPast(n),future:c(r).isInFuture(n),last:c(r).isLastDayOfMonth(n),lastInstance:c(r).isLastInstanceOfMonth(n),hasItems:Ke(n),selectionStart:c(r).isSameDate(n,e.selectionStart),selectionEnd:c(r).isSameDate(n,e.selectionEnd)},...e.dateClasses&&e.dateClasses[c(r).isoYearMonthDay(n)]||[]]),"aria-grabbed":e.enableDateSelection?Ce(n):void 0,"aria-label":n.getDate().toString(),"aria-selected":Ce(n),"aria-dropeffect":e.enableDragDrop&&i.currentDragItem?"move":e.enableDateSelection&&i.dateSelectionOrigin?"execute":"none",onClick:M=>$(n,M),onDragstart:M=>He(n,M),onDrop:V(M=>qe(n,M),["prevent"]),onDragover:V(M=>Ye(n,M),["prevent"]),onDragenter:V(M=>ze(n,M),["prevent"]),onDragleave:V(M=>We(n,M),["prevent"])},[l("div",ra,A(n.getDate()),1),q(o.$slots,"dayContent",{day:n})],42,oa))),128)),t.enableHtmlTitles?(p(!0),g(L,{key:0},E(Se(m),n=>q(o.$slots,"item",{value:n,weekStartDate:m,top:re(n)},()=>[(p(),g("div",{key:n.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?n==i.currentDragItem:void 0,class:G([n.classes,"cv-item"]),title:n.tooltip||n.title,style:$e(`top:${re(n)};${n.originalItem.style}`),onDragstart:h=>ke(n,h),onMouseenter:h=>_e(n,h),onMouseleave:h=>De(n,h),onClick:V(h=>J(n,h),["stop"]),innerHTML:xe(n)},null,46,na))])),256)):(p(!0),g(L,{key:1},E(Se(m),n=>q(o.$slots,"item",{value:n,weekStartDate:m,top:re(n)},()=>[(p(),g("div",{key:n.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?n==i.currentDragItem:void 0,class:G([n.classes,"cv-item"]),title:n.tooltip||n.title,style:$e(`top:${re(n)};${n.originalItem.style}`),onDragstart:h=>ke(n,h),onMouseenter:h=>_e(n,h),onMouseleave:h=>De(n,h),onClick:V(h=>J(n,h),["stop"])},A(xe(n)),47,ia)),ee(" div> ")])),256))])],2))),128))],8,ea)],2))}}),la={class:"calendarHeader"},da=l("md-icon",null,"chevron_left",-1),ca=[da],ua=l("md-icon",null,"today",-1),ha=[ua],va=l("md-icon",null,"chevron_right",-1),ma=[va],pa={class:"date"},ga=z({__name:"CalendarHeader",props:{headerProps:{type:Object,required:!0}},emits:["input"],setup(e,{emit:a}){const t=e;function i(){a("input",t.headerProps.nextPeriod)}function v(){a("input",t.headerProps.currentPeriod)}function b(){a("input",t.headerProps.previousPeriod)}return(u,d)=>(p(),g("div",la,[l("div",{class:"navButtons"},[l("md-icon-button",{onClick:b},ca),l("md-icon-button",{onClick:v},ha),l("md-icon-button",{onClick:i},ma)]),l("div",pa,A(c(ge)[t.headerProps.periodStart.getMonth()]),1)]))}});const fa={class:"calendarContainer"},ya={id:"calendar-component"},ba=z({__name:"Calendar",emits:["onClickDay","onClickItem"],setup(e,{emit:a}){var x;let t=O(new Date);const i=(x=Te().value)==null?void 0:x.uid;function v(f){return f.map(D=>{const U=D.id.substring(0,8),N=D.id.charAt(D.id.length-1);let _;if(N==="M")_=8;else if(N==="P")_=15;else throw new Error("Formato ID non riconosciuto");const y=new Date(parseInt(U.substring(0,4),10),parseInt(U.substring(4,6),10)-1,parseInt(U.substring(6,8),10),_),R=new Date(y);R.setHours(y.getHours()+4);const $=D.players||D.users,J=$.filter(T=>T.id===i).length>0;return{id:D.id,startDate:y,endDate:R,title:$.length>=3?"Al completo":`${3-$.length} posti disponibili`,classes:J?["bookedByUser"]:["green"],slotAvailables:3-$.length,playersNames:$.map(T=>T.username),bookedByUser:J}})}const b=st(K,"availabilities"),u=lt(b,{wait:!0}),d=C(()=>v(u.value));function k(f,F){return F.filter(D=>D.slotAvailables===0&&D.startDate.getFullYear()===f.getFullYear()&&D.startDate.getMonth()===f.getMonth()&&D.startDate.getDate()===f.getDate())}function I(f){t.value=f}function P(f){k(f,d.value).length>=1||a("onClickDay",f)}function S(f){f.originalItem.slotAvailables<=0||f.endDate<new Date||a("onClickItem",f)}return(f,F)=>(p(),g("div",fa,[l("div",ya,[te(c(sa),{"show-date":c(t),class:"theme-default",onClickDate:P,onClickItem:S,items:d.value,"disable-past":!0,"current-period-label":"icons","display-period-uom":"month",startingDayOfWeek:1},{header:Le(({headerProps:D})=>[te(ga,{headerProps:D,onInput:I},null,8,["headerProps"])]),_:1},8,["show-date","items"])])]))}});const _a={class:"squadGen"},Da={key:0,class:"squads"},ka={class:"squad"},wa=z({__name:"SquadGenerator",props:{players:{}},setup(e){const a=e,t=O();function i(b){const u=[],d=b.slice().sort(()=>Math.random()-.5);for(let k=d.length-1;k>=0;k--)k%2!==0&&u.push(d.splice(k,1)[0]);return[d,u]}function v(){t.value=i(a.players)}return(b,u)=>(p(),g("div",_a,[t.value&&t.value.length>0?(p(),g("div",Da,[(p(!0),g(L,null,E(t.value,(d,k)=>(p(),g("div",ka,[l("b",null," Squadra "+A(k+1),1),(p(!0),g(L,null,E(d,I=>(p(),g("div",null,A(I),1))),256))]))),256))])):Y("",!0),l("md-filled-tonal-button",{onClick:v}," Genera squadre ")]))}});const Ca={class:"availabilityView"},Sa=l("div",{class:"istruzioni"}," Per prenotare, clicca su un giorno vuoto o su uno slot già creato ",-1),xa=["open"],Ia=l("div",{slot:"headline"},"Non puoi prenotare",-1),$a=l("form",{id:"form",slot:"content",method:"dialog"}," Hai ricevuto due o più ammonizioni e non puoi più prenotare. Dai un'occhiata al regolamento se vuoi sapere come ridurre le tue ammonizioni. ",-1),Ma={slot:"actions"},Pa=["open"],Aa=l("div",{slot:"headline"},"Slot prenotato",-1),Oa={slot:"content",id:"form-id",method:"dialog"},Fa=["open"],Ta=l("div",{slot:"headline"},"Prenota slot",-1),La={slot:"content",id:"form-id",method:"dialog"},Ea={key:2,class:"clausola"},Ba={slot:"actions"},Ua={key:0},Na=l("a",{target:"_blank",rel:"noopener noreferrer",href:"https://calendar.google.com/calendar/embed?src=rho5n91oc32t7pdipjecqvpe9s%40group.calendar.google.com&ctz=Europe%2FRome"},[l("md-filled-tonal-button",{id:"addToCalendar"},[ee(" Aggiungi calendario a Google Calendar "),l("md-icon",{slot:"icon"},"calendar_add_on")])],-1),za=z({__name:"AvailabilityView",setup(e){var N;const a=O(!1),t=O(!1),i=O(new Date),v=O("mattina"),b=O(!1),u=O(!1),d=O(!1),k=O(!1),I=O(!1),P=O([]),S=(N=Te().value)==null?void 0:N.uid,x=dt(Z(K,`users/${S}`));function f(_,y){return`availabilities/${_.getFullYear()}${(_.getMonth()+1).toString().padStart(2,"0")}${_.getDate().toString().padStart(2,"0")}-${y==="mattina"?"M":"P"}`}async function F(){if(k.value=!1,i.value==null||v.value==null){console.error("Ma che cazz");return}b.value=!0;const _=Z(K,f(i.value,v.value)),y=Z(K,`users/${S}/${f(i.value,v.value)}`);(await ut(_)).exists()?ht(_,{players:vt(Z(K,`users/${S}`))}):Pe(_,{players:[Z(K,`users/${S}`)]}),Pe(y,{date:i.value,timeSlot:v.value}),b.value=!1,u.value=!0,t.value=!1,a.value=!1}function D(_){var y;if(((y=x.value)==null?void 0:y.admonitionCount)>=2){d.value=!0;return}k.value=!0,u.value=!1,i.value=_,t.value=!1,a.value=!0}function U(_){var y;if(_.originalItem.bookedByUser){I.value=!0,P.value=["Danilo",..._.originalItem.playersNames];return}if(((y=x.value)==null?void 0:y.admonitionCount)>=2){d.value=!0;return}u.value=!1,k.value=!0,_.originalItem.slotAvailables>0&&(v.value=_.id.charAt(_.id.length-1)==="M"?"mattina":"pomeriggio",i.value=_.startDate,t.value=!0,a.value=!1)}return(_,y)=>{const R=ct("RouterLink");return p(),g("div",Ca,[Sa,te(ba,{onOnClickDay:D,onOnClickItem:U}),l("md-dialog",{type:"alert",open:d.value},[Ia,$a,l("div",Ma,[l("md-text-button",{form:"form",value:"ok",onClick:y[0]||(y[0]=$=>d.value=!1)},"OK")])],8,xa),l("md-dialog",{type:"alert",open:I.value,onClose:y[1]||(y[1]=$=>I.value=!1)},[Aa,l("div",Oa,[ee(" Giocatori: "),l("ul",null,[(p(!0),g(L,null,E(P.value,$=>(p(),g("li",null,A($),1))),256))]),te(wa,{players:P.value},null,8,["players"])])],40,Pa),l("md-dialog",{type:"alert",open:k.value},[Ta,l("form",La,[a.value&&!b.value?(p(),Me(Dt,{key:0,date:i.value,onSelect:y[2]||(y[2]=$=>v.value=$.timeSlot)},null,8,["date"])):Y("",!0),t.value&&!b.value?(p(),Me(wt,{key:1,date:i.value,time:v.value},null,8,["date","time"])):Y("",!0),!b.value&&(a.value||t.value)?(p(),g("div",Ea,[ee("Confermando accetti "),te(R,{class:"link",to:"/rules"},{default:Le(()=>[ee(" il regolamento")]),_:1})])):Y("",!0)]),l("div",Ba,[l("md-text-button",{form:"form-id",value:"cancel",onClick:y[3]||(y[3]=$=>k.value=!1)},"Annulla"),l("md-text-button",{form:"form-id",value:"delete",onClick:F},"Conferma")])],8,Fa),u.value?(p(),g("div",Ua,"Prenotato")):Y("",!0),Na])}}});export{za as default};
